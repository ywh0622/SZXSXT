(function(){var e={6065:function(e,t,n){"use strict";var o=n(9242),r=n(3396),a={__name:"App",setup(e){return(e,t)=>{const n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(n)}}};const u=a;var s=u,i=n(2483);const c=[{path:"/",component:()=>n.e(927).then(n.bind(n,5927)),name:"home1",redirect:"/home",children:[]},{path:"/login",name:"login",component:()=>n.e(680).then(n.bind(n,2680))}],l=(0,i.p7)({history:(0,i.r5)(),routes:c});var d=l,m=n(6156),f=(n(4415),n(2748)),p=(n(7658),n(65)),h=n(680),g=(0,p.MT)({state:{isCollapse:!1,currentMenu:null,menu:[],token:""},mutations:{updateCollapse(e,t){e.isCollapse=!e.isCollapse},selectMenu(e,t){"home"==t.name?e.currentMenu=null:e.currentMenu=t},setMenu(e,t){e.menu=t,localStorage.setItem("menu",JSON.stringify(t))},addMenu(e,t){if(!localStorage.getItem("menu"))return;const o=JSON.parse(localStorage.getItem("menu"));e.menu=o;const r=[];o.forEach((e=>{e.children?(e.children=e.children.map((e=>(e.component=()=>n(2513)(`./${e.url}.vue`),e))),r.push(...e.children)):(e.component=()=>n(2513)(`./${e.url}.vue`),r.push(e))})),r.forEach((e=>{t.addRoute("home1",e)}))},setCurrentMenu(e,t){"home"!==t&&e.menu.forEach((n=>{n.name===t&&(e.currentMenu=n)}))},cleanMenu(e){e.menu=[],localStorage.removeItem("menu")},setToken(e,t){e.token=t,h.Z.set("token",t)},clearToken(e){e.token="",h.Z.remove("token")},getToken(e){e.token=e.token||h.Z.get("token")}}}),b=n(7634),v=n.n(b);n(541);function k(e){const t=e.split("?")[1];return t?JSON.parse('{"'+decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}}let y=[];const w=200;for(let J=0;J<w;J++)y.push({id:v().Random.guid(),software:v().Random.cword("ABCDEFGHIJKLMNOPQRSTUVWXYZ",3),name:v().Random.cname(),department:"xxx",phoneNumber:188e8});var O={getUserList:e=>{const{name:t,page:n=1,limit:o=20}=k(e.url),r=y.filter((e=>!t||-1!==e.name.indexOf(t)||-1!==e.department.indexOf(t))),a=r.filter(((e,t)=>t<o*n&&t>=o*(n-1)));return{code:200,data:{list:a,count:r.length}}},createUser:e=>{console.log("createUser函数 config",e);const{name:t,software:n,department:o,phoneNumber:r}=JSON.parse(e.body);return console.log("createUser: ",JSON.parse(e.body)),y.unshift({id:v().Random.guid(),name:t,software:n,department:o,phoneNumber:r}),{code:200,data:{message:"添加成功"}}},deleteUser:e=>{const{id:t}=k(e.url);return t?(y=y.filter((e=>e.id!==t)),{code:200,msg:"删除成功"}):{code:-999,msg:"参数不正确"}},batchRemove:e=>{let{ids:t}=k(e.url);return t=t.spilt(","),y=y.filter((e=>!t.includes(e.id))),{code:200,message:"批量删除成功"}},updateUser:e=>{const{id:t,name:n,software:o,department:r,phoneNumber:a}=JSON.parse(e.body);return y.some((e=>{if(e.id===t)return e.name=n,e.software=o,e.department=r,e.phoneNumber=a,!0})),{code:200,data:{message:"编辑成功"}}}},U={getMenu:e=>{const{username:t,password:n}=JSON.parse(e.body);return"admin"===t&&"admin"===n?{code:200,data:{menu:[{path:"/home",name:"home",label:"首页",icon:"location",url:"home/Home"},{path:"/repo",name:"repository",label:"模型仓库",icon:"house",url:"repo/Repository"},{path:"/relation",name:"relation",label:"模型关系",icon:"house",url:"relation/Relation"},{path:"/user",name:"user",label:"用户管理",icon:"user",url:"user/User"}],token:v().Random.guid(),message:"获取成功"}}:"xiaoxiao"===t&&"xiaoxiao"===n?{code:200,data:{menu:[{path:"/home",name:"home",label:"首页",icon:"house",url:"home/Home"},{path:"/repo",name:"repository",label:"模型仓库",icon:"house",url:"repo/Repository"},{path:"/relation",name:"relation",label:"模型关系",icon:"house",url:"relation/Relation"}],token:v().Random.guid(),message:"获取成功"}}:{code:-999,data:[],msg:"登陆失败"}}};v().mock(/user\/getUser/,"get",O.getUserList),v().mock(/user\/add/,"post",O.createUser),v().mock(/user\/edit/,"post",O.updateUser),v().mock(/user\/delete/,"get",O.deleteUser),v().mock(/permission\/getMenu/,"post",U.getMenu);var C=n(6943),N=n(7178);console.log("process.env",{NODE_ENV:"production",BASE_URL:"/"});const R="production";console.log("env:",R);const M={development:{baseApi:"/api",mockApi:"https://www.fastmock.site/mock/8a50ae41d212fa4af046ee2eb1f53677/mbse"},test:{baseApi:"https://www.fastmock.site/mock/8a50ae41d212fa4af046ee2eb1f53677/mbse",mockApi:"https://www.fastmock.site/mock/8a50ae41d212fa4af046ee2eb1f53677/mbse"},production:{baseApi:"/api",mockApi:"https://www.fastmock.site/mock/8a50ae41d212fa4af046ee2eb1f53677/mbse"}};var E={env:R,mock:!0,...M[R]};const S="网络请求异常,请稍后重试",A=C.Z.create({baseURL:E.baseApi});function L(e){e.method=e.method||"get","get"==e.method.toLowerCase()&&(e.params=e.data);let t=E.mock;return"undefined"!==typeof e.mock&&(t=e.mock),"production"==E.env?A.defaults.baseURL=E.baseApi:A.defaults.baseURL=t?E.mockApi:E.baseApi,console.log("service.defaults.baseURL : ",A.defaults.baseURL),A(e)}A.interceptors.request.use((e=>(console.log("发送请求",e),e.headers["token"]="vue-test",e))),A.interceptors.response.use((e=>{console.log("得到请求后的数据",e);const{code:t,data:n,message:o}=e.data;return console.log("code, data, message",t,n,o),200==t?n:(N.z8.error(o||S),Promise.reject(o||S))}));var x=L,j={getUserData(e){return x({url:"/user/getUser",method:"get",mock:!1,data:e})},addUser(e){return x({url:"/user/add",method:"post",mock:!1,data:e})},editUser(e){return x({url:"/user/edit",method:"post",mock:!1,data:e})},deleteUser(e){return x({url:"/user/delete",method:"get",mock:!1,data:e})},getMenu(e){return x({url:"/permission/getMenu",method:"post",mock:!1,data:e})},getRepoList(e){return x({url:"/repo/getRepoList",method:"get",mock:!1,data:e})},getModifiableElement(e){return x({url:"/repo/modifiableElement",method:"get",mock:!1,data:e})},testConnection(e){return x({url:"/repo/testConnection",method:"get",mock:!1,data:e})}},T=n(814);const _=(0,o.ri)(s);for(const[J,D]of Object.entries(f))_.component(J,D);function P(e){let t=d.getRoutes().filter((t=>t.path==e)).length;return!!t}_.use(m.Z,{locale:T.Z}),_.config.globalProperties.$api=j,g.commit("addMenu",d),d.beforeEach(((e,t,n)=>{g.commit("getToken");const o=g.state.token;g.commit("setCurrentMenu",e.name),o||"login"===e.name?P(e.path)?n():n({name:"home"}):n({name:"login"})})),_.use(d),_.use(g),_.mount("#app")},2513:function(e,t,n){var o={"./Login.vue":[2680,680],"./Main.vue":[5927,927],"./home/Home.vue":[8875,875],"./relation/Relation.vue":[4206,206],"./repo/Repository.vue":[7922,49],"./user/User.vue":[9032,32]};function r(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(o)},r.id=2513,e.exports=r}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,a){if(!o){var u=1/0;for(l=0;l<e.length;l++){o=e[l][0],r=e[l][1],a=e[l][2];for(var s=!0,i=0;i<o.length;i++)(!1&a||u>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[i])}))?o.splice(i--,1):(s=!1,a<u&&(u=a));if(s){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[o,r,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{32:"55895ea3",49:"33c135f2",206:"92a0fcfe",680:"603977de",875:"5c1213d3",927:"0ad12afd"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{32:"ec632519",49:"eded19bd",680:"b760f1f3",875:"0d5e6802",927:"1b52a912"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="mbse_vue3:";n.l=function(o,r,a,u){if(e[o])e[o].push(r);else{var s,i;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(i=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=o),e[o]=[r];var m=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var r=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),i&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,o,r){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var u=function(n){if(a.onerror=a.onload=null,"load"===n.type)o();else{var u=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,i=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.type=u,i.request=s,a.parentNode.removeChild(a),r(i)}};return a.onerror=a.onload=u,a.href=t,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var r=n[o],a=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){r=u[o],a=r.getAttribute("data-href");if(a===e||a===t)return r}},o=function(o){return new Promise((function(r,a){var u=n.miniCssF(o),s=n.p+u;if(t(u,s))return r();e(o,s,null,r,a)}))},r={143:0};n.f.miniCss=function(e,t){var n={32:1,49:1,680:1,875:1,927:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=o(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,o){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)o.push(r[2]);else{var a=new Promise((function(n,o){r=e[t]=[n,o]}));o.push(r[2]=a);var u=n.p+n.u(t),s=new Error,i=function(o){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var a=o&&("load"===o.type?"missing":o.type),u=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+u+")",s.name="ChunkLoadError",s.type=a,s.request=u,r[1](s)}};n.l(u,i,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,a,u=o[0],s=o[1],i=o[2],c=0;if(u.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(i)var l=i(n)}for(t&&t(o);c<u.length;c++)a=u[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(l)},o=self["webpackChunkmbse_vue3"]=self["webpackChunkmbse_vue3"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(6065)}));o=n.O(o)})();
//# sourceMappingURL=app.006a99cd.js.map