"use strict";(self["webpackChunkmbse_vue3"]=self["webpackChunkmbse_vue3"]||[]).push([[49],{89:function(e,l){l.Z=(e,l)=>{const a=e.__vccOpts||e;for(const[t,o]of l)a[t]=o;return a}},7922:function(e,l,a){a.r(l),a.d(l,{default:function(){return E}});var t=a(3396),o=a(4870),i=a(7139),u=a(6553),s=a.p+"img/24598.14b3c17a.png",d=a(2655),n=a(7178);const c=e=>((0,t.dD)("data-v-13874200"),e=e(),(0,t.Cn)(),e),r={class:"box"},m={style:{"margin-left":"10px"}},p={key:0,style:{"font-size":"18px"}},w={key:0,class:"div1"},_=c((()=>(0,t._)("img",{src:u,alt:"",style:{margin:"auto"}},null,-1))),f=[_],g={key:1,class:"div1"},k=c((()=>(0,t._)("img",{src:s,alt:"",style:{margin:"auto"}},null,-1))),v=[k],b={key:1},y={class:"custom-tabs-label"},h=c((()=>(0,t._)("span",null,"Tree View",-1))),U={style:{"margin-left":"10px"}},W={class:"custom-tabs-label"},S=c((()=>(0,t._)("span",null,"Graph View",-1))),x={key:0},C={class:"graph"},j={class:"circle1",style:{"margin-right":"0px"}},D=c((()=>(0,t._)("div",{style:{margin:"auto 0"}},"-------------------\x3e",-1))),V={class:"circle1",style:{"background-color":"red",margin:"auto 0px"}},H=c((()=>(0,t._)("div",{style:{margin:"auto 0"}},"-------------------\x3e",-1))),N={class:"circle1",style:{"background-color":"green","margin-left":"0px"}},q={key:1},z={class:"dialog-footer"};var L={__name:"Repository",setup(e){const{proxy:l}=(0,t.FN)(),a={children:"models",label:"modelType"};let u=(0,o.iH)(null),s=(0,o.iH)(null);const c=e=>{e.modeltype&&(u.value=e.modeltype),e.childProjects?s.value=e:s.value=null};let _=(0,o.iH)([]);const k=async()=>{let e=await l.$api.getRepoList();_.value=e},L=((0,o.iH)("first"),{children:"childProjects",label:"showName"});let P=(0,o.iH)({type:"",id:""}),T=(0,o.iH)(!1);const E=e=>{P.value=e,T.value=!0};let M=(0,o.iH)(!1);const $=(0,o.iH)(!1);let F=(0,o.iH)(0);const I=()=>{$.value=!0,P.value.elementDetails.forEach((e=>{G(e.Name)||(F.value=1)}))},K=e=>{d.T.confirm("是否确认关闭该窗口?").then((()=>{$.value=!1,F.value=0,O.value=!1,B.value=!1})).catch((()=>{}))},R=()=>{d.T.confirm("是否确认提交?").then((()=>{B.value?((0,n.z8)({showClose:!0,message:"修改成功",type:"success"}),$.value=!1,F.value=0,O.value=!1,Q.value="正在测试连接",B.value=!1):(0,n.z8)({showClose:!0,message:"未修改数据",type:"error"})})).catch((()=>{}))};let Z=(0,o.iH)([]);const A=async()=>{let e=await l.$api.getModifiableElement();Z.value=e},G=e=>{let l=!0;return Z.value.forEach((a=>{a["modelType"]===u.value&&a["attribute"].forEach((a=>{a["tagName"]==P.value["tagName"]&&a["modifiableName"]==e&&(l=!1)}))})),l};let O=(0,o.iH)(!1),Q=(0,o.iH)("正在测试连接");const Y=async()=>{O.value=!0;let e=await l.$api.testConnection();Q.value="success"===e?"连接成功":"连接失败"};let B=(0,o.iH)(!1);const J=e=>{console.log("输入框改变: ",e),B.value=!0};return(0,t.bv)((()=>{k(),A()})),(e,l)=>{const d=(0,t.up)("el-tree"),n=(0,t.up)("el-aside"),k=(0,t.up)("Link"),Z=(0,t.up)("el-icon"),A=(0,t.up)("el-button"),B=(0,t.up)("el-tab-pane"),X=(0,t.up)("el-descriptions-item"),ee=(0,t.up)("el-descriptions"),le=(0,t.up)("el-drawer"),ae=(0,t.up)("el-tabs"),te=(0,t.up)("el-main"),oe=(0,t.up)("el-container"),ie=(0,t.up)("el-input"),ue=(0,t.up)("el-form-item"),se=(0,t.up)("el-form"),de=(0,t.up)("el-alert"),ne=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)("div",r,[(0,t.Wm)(oe,null,{default:(0,t.w5)((()=>[(0,t.Wm)(n,{width:"200px"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{data:(0,o.SU)(_),props:a,onNodeClick:c,getCurrentKey:"","highlight-current":""},{default:(0,t.w5)((({data:e})=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(e.icon),{class:"icons"})),(0,t._)("span",m,(0,i.zw)(e.showName),1)])),_:1},8,["data"])])),_:1}),(0,t.Wm)(te,null,{default:(0,t.w5)((()=>[null==(0,o.SU)(s)?((0,t.wg)(),(0,t.iD)("div",p,[null==(0,o.SU)(u)?((0,t.wg)(),(0,t.iD)("div",w,f)):(0,t.kq)("",!0),"MagicDraw"==(0,o.SU)(u)?((0,t.wg)(),(0,t.iD)("div",g,v)):(0,t.kq)("",!0)])):((0,t.wg)(),(0,t.iD)("div",b,[(0,t.Wm)(ae,{type:"border-card",class:"demo-tabs"},{default:(0,t.w5)((()=>[(0,t.Wm)(B,null,{label:(0,t.w5)((()=>[(0,t._)("span",y,[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k)])),_:1}),h])])),default:(0,t.w5)((()=>[(0,t.Wm)(d,{data:(0,o.SU)(s).childProjects,props:L,onNodeClick:E,"highlight-current":""},{default:(0,t.w5)((({data:e})=>[((0,t.wg)(),(0,t.j4)((0,t.LL)(e.icon),{class:"icons"})),(0,t._)("span",U,(0,i.zw)(e.showName),1),(0,o.SU)(T)&&e.id==(0,o.SU)(P).id?((0,t.wg)(),(0,t.j4)(A,{key:0,style:{"margin-left":"600px"},type:"primary",size:"small",onClick:I},{default:(0,t.w5)((()=>[(0,t.Uk)("查看")])),_:1})):(0,t.kq)("",!0)])),_:1},8,["data"])])),_:1}),(0,t.Wm)(B,null,{label:(0,t.w5)((()=>[(0,t._)("span",W,[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k)])),_:1}),S])])),default:(0,t.w5)((()=>[(0,o.SU)(s).childProjects.length>0?((0,t.wg)(),(0,t.iD)("div",x,[(0,t._)("div",C,[(0,t._)("div",j,[(0,t.Wm)(A,{onClick:l[0]||(l[0]=e=>(0,o.dq)(M)?M.value=!0:M=!0),style:{margin:"auto"},class:"drawer-btn"},{default:(0,t.w5)((()=>[(0,t.Uk)(" File1 ")])),_:1})]),D,(0,t._)("div",V,[(0,t.Wm)(A,{onClick:l[1]||(l[1]=e=>(0,o.dq)(M)?M.value=!0:M=!0),style:{margin:"auto","background-color":"red"},class:"drawer-btn"},{default:(0,t.w5)((()=>[(0,t.Uk)(" CAD-document ")])),_:1})]),H,(0,t._)("div",N,[(0,t.Wm)(A,{onClick:l[2]||(l[2]=e=>(0,o.dq)(M)?M.value=!0:M=!0),style:{margin:"auto","background-color":"green"},class:"drawer-btn"},{default:(0,t.w5)((()=>[(0,t.Uk)(" MySQL-document ")])),_:1})])]),(0,t.Wm)(le,{title:"我是标题",modelValue:(0,o.SU)(M),"onUpdate:modelValue":l[3]||(l[3]=e=>(0,o.dq)(M)?M.value=e:M=e),"with-header":!1},{default:(0,t.w5)((()=>[(0,t.Wm)(ee,{title:"Descriptions",column:1,border:"",style:{"font-style":"normal"}},{default:(0,t.w5)((()=>[(0,t.Wm)(X,{label:"Property",labelStyle:{width:"25px","font-weight":"bold","font-size":"18px"},contentStyle:{"font-weight":"bold","font-size":"18px"}},{default:(0,t.w5)((()=>[(0,t.Uk)(" Value ")])),_:1}),(0,t.Wm)(X,{label:"project_id"},{default:(0,t.w5)((()=>[(0,t.Uk)("项目id")])),_:1}),(0,t.Wm)(X,{label:"project_name"},{default:(0,t.w5)((()=>[(0,t.Uk)("项目名字")])),_:1}),(0,t.Wm)(X,{label:"project_descriptions"},{default:(0,t.w5)((()=>[(0,t.Uk)("项目描述")])),_:1}),(0,t.Wm)(X,{label:"project_creattime"},{default:(0,t.w5)((()=>[(0,t.Uk)("项目创建时间")])),_:1}),(0,t.Wm)(X,{label:"model_id"},{default:(0,t.w5)((()=>[(0,t.Uk)("模型id")])),_:1}),(0,t.Wm)(X,{label:"model_source"},{default:(0,t.w5)((()=>[(0,t.Uk)("模型源头")])),_:1}),(0,t.Wm)(X,{label:"moudle_target"},{default:(0,t.w5)((()=>[(0,t.Uk)("模型目标")])),_:1}),(0,t.Wm)(X,{label:"model_data"},{default:(0,t.w5)((()=>[(0,t.Uk)("模型数据类型")])),_:1}),(0,t.Wm)(X,{label:"model_url"},{default:(0,t.w5)((()=>[(0,t.Uk)("外部模型数据地址")])),_:1}),(0,t.Wm)(X,{label:"model_version"},{default:(0,t.w5)((()=>[(0,t.Uk)("模型版本")])),_:1}),(0,t.Wm)(X,{label:"model_modeified"},{default:(0,t.w5)((()=>[(0,t.Uk)("模型修改时间")])),_:1})])),_:1})])),_:1},8,["modelValue"])])):((0,t.wg)(),(0,t.iD)("div",q,"暂无数据"))])),_:1})])),_:1})]))])),_:1})])),_:1}),(0,t.Wm)(ne,{modelValue:$.value,"onUpdate:modelValue":l[4]||(l[4]=e=>$.value=e),title:(0,o.SU)(P).showName,width:"30%","before-close":K,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},{footer:(0,t.w5)((()=>[(0,t._)("span",z,[(0,o.SU)(F)>0?((0,t.wg)(),(0,t.j4)(A,{key:0,type:"primary",onClick:Y},{default:(0,t.w5)((()=>[(0,t.Uk)(" 修改 ")])),_:1})):(0,t.kq)("",!0),(0,o.SU)(O)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(A,{key:1,type:"primary",onClick:K},{default:(0,t.w5)((()=>[(0,t.Uk)(" 关闭 ")])),_:1})),(0,o.SU)(O)?((0,t.wg)(),(0,t.j4)(A,{key:2,type:"primary",onClick:R,disabled:"连接成功"!=(0,o.SU)(Q)},{default:(0,t.w5)((()=>[(0,t.Uk)(" 保存 ")])),_:1},8,["disabled"])):(0,t.kq)("",!0),(0,o.SU)(O)?((0,t.wg)(),(0,t.j4)(de,{key:3,type:"info","show-icon":"",closable:!1},{default:(0,t.w5)((()=>[(0,t._)("p",null,(0,i.zw)((0,o.SU)(Q)),1)])),_:1})):(0,t.kq)("",!0)])])),default:(0,t.w5)((()=>[(0,t.Wm)(se,{model:(0,o.SU)(P).elementDetails,"label-width":"80px"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(P).elementDetails,((e,l)=>((0,t.wg)(),(0,t.j4)(ue,{key:l,label:e["Name"]},{default:(0,t.w5)((()=>[(0,t.Wm)(ie,{onInput:J,modelValue:e["Value"],"onUpdate:modelValue":l=>e["Value"]=l,disabled:1!=(0,o.SU)(O)||G(e["Name"])},null,8,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1032,["label"])))),128))])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])}}},P=a(89);const T=(0,P.Z)(L,[["__scopeId","data-v-13874200"]]);var E=T},6553:function(e,l,a){e.exports=a.p+"img/home.007b60c2.png"}}]);
//# sourceMappingURL=49.33c135f2.js.map